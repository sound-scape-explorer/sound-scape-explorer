import{u as T,a as W}from"./core-b6913603.js";import{u as N,i as C,t as K,c as U,r as c,a as M,g as Y,o as k,b as g,w,d as H,e as X,h as B}from"../vue-b68842be.js";var P;const O=typeof window<"u",Ie=e=>typeof e=="function",q=e=>typeof e=="string",z=()=>{},h=O&&((P=window?.navigator)==null?void 0:P.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function f(e){return typeof e=="function"?e():N(e)}function G(e,t){function r(...n){return new Promise((a,s)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(a).catch(s)})}return r}const I=e=>e();function J(e=I){const t=c(!0);function r(){t.value=!1}function n(){t.value=!0}const a=(...s)=>{t.value&&e(...s)};return{isActive:M(t),pause:r,resume:n,eventFilter:a}}function je(e){return e}function j(e){return Y()?(k(e),!0):!1}function Q(e){return typeof e=="function"?g(e):c(e)}var Z=Object.defineProperty,R=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,$=(e,t,r)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ne=(e,t)=>{for(var r in t||(t={}))te.call(t,r)&&$(e,r,t[r]);if(m)for(var r of m(t))re.call(t,r)&&$(e,r,t[r]);return e},ae=(e,t)=>R(e,ee(t));function xe(e){if(!C(e))return K(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const r in e.value)t[r]=U(()=>({get(){return e.value[r]},set(n){if(Array.isArray(e.value)){const a=[...e.value];a[r]=n,e.value=a}else{const a=ae(ne({},e.value),{[r]:n});Object.setPrototypeOf(a,e.value),e.value=a}}}));return t}var b=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,le=(e,t)=>{var r={};for(var n in e)oe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&b)for(var n of b(e))t.indexOf(n)<0&&se.call(e,n)&&(r[n]=e[n]);return r};function ie(e,t,r={}){const n=r,{eventFilter:a=I}=n,s=le(n,["eventFilter"]);return w(e,G(a,t),s)}var ue=Object.defineProperty,fe=Object.defineProperties,ce=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,S=(e,t,r)=>t in e?ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pe=(e,t)=>{for(var r in t||(t={}))x.call(t,r)&&S(e,r,t[r]);if(y)for(var r of y(t))L.call(t,r)&&S(e,r,t[r]);return e},ve=(e,t)=>fe(e,ce(t)),de=(e,t)=>{var r={};for(var n in e)x.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&y)for(var n of y(e))t.indexOf(n)<0&&L.call(e,n)&&(r[n]=e[n]);return r};function Le(e,t,r={}){const n=r,{eventFilter:a}=n,s=de(n,["eventFilter"]),{eventFilter:i,pause:o,resume:l,isActive:p}=J(a);return{stop:ie(e,t,ve(pe({},s),{eventFilter:i})),pause:o,resume:l,isActive:p}}function _e(e){var t;const r=f(e);return(t=r?.$el)!=null?t:r}const ye=O?window:void 0;function we(...e){let t,r,n,a;if(q(e[0])||Array.isArray(e[0])?([r,n,a]=e,t=ye):[t,r,n,a]=e,!t)return z;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const s=[],i=()=>{s.forEach(u=>u()),s.length=0},o=(u,v,d,_)=>(u.addEventListener(v,d,_),()=>u.removeEventListener(v,d,_)),l=w(()=>[_e(t),f(a)],([u,v])=>{i(),u&&s.push(...r.flatMap(d=>n.map(_=>o(u,d,_,v))))},{immediate:!0,flush:"post"}),p=()=>{l(),i()};return j(p),p}const A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D="__vueuse_ssr_handlers__";A[D]=A[D]||{};var ge=Object.defineProperty,Oe=Object.defineProperties,Pe=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,F=(e,t,r)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$e=(e,t)=>{for(var r in t||(t={}))he.call(t,r)&&F(e,r,t[r]);if(E)for(var r of E(t))me.call(t,r)&&F(e,r,t[r]);return e},be=(e,t)=>Oe(e,Pe(t));const Ve=H({name:"UseDraggable",props:["storageKey","storageType","initialValue","exact","preventDefault","stopPropagation","pointerTypes","as","handle"],setup(e,{slots:t}){const r=c(),n=g(()=>{var l;return(l=e.handle)!=null?l:r.value}),a=e.storageKey&&T(e.storageKey,f(e.initialValue)||{x:0,y:0},O?e.storageType==="session"?sessionStorage:localStorage:void 0),s=a||e.initialValue||{x:0,y:0},i=l=>{a&&(a.value.x=l.x,a.value.y=l.y)},o=X(W(r,be($e({},e),{handle:n,initialValue:s,onEnd:i})));return()=>{if(t.default)return B(e.as||"div",{ref:r,style:`touch-action:none;${o.style}`},t.default(o))}}});function V(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientHeight<e.scrollHeight||t.overflowY==="auto"&&e.clientWidth<e.scrollWidth)return!0;{const r=e.parentNode;return!r||r.tagName==="BODY"?!1:V(r)}}function Se(e){const t=e||window.event,r=t.target;return V(r)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function Ae(e,t=!1){const r=c(t);let n=null,a;w(Q(e),o=>{if(o){const l=o;a=l.style.overflow,r.value&&(l.style.overflow="hidden")}},{immediate:!0});const s=()=>{const o=f(e);!o||r.value||(h&&(n=we(o,"touchmove",l=>{Se(l)},{passive:!1})),o.style.overflow="hidden",r.value=!0)},i=()=>{const o=f(e);!o||!r.value||(h&&n?.(),o.style.overflow=a,r.value=!1)};return j(i),g({get(){return r.value},set(o){o?s():i()}})}const De=()=>{let e=!1;const t=c(!1);return(r,n)=>{if(t.value=n.value,e)return;e=!0;const a=Ae(r,n.value);w(t,s=>a.value=s)}};De();export{Ve as U,O as a,q as b,je as c,j as d,Ie as e,h as i,z as n,f as r,xe as t,Le as w};
